<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    var wsServer = 'ws://127.0.0.1:12345/bar'; //服务器地址

    var websocket = new WebSocket(wsServer); //创建WebSocket对象

  //  alert(websocket.readyState);//查看websocket当前状态
    websocket.onopen = function (evt) {

        console.log("onopen");

//已经建立连接
    };

    websocket.onclose = function (evt) {
//已经关闭连接
        console.log("onclose");
    };
    websocket.onmessage = function (evt) {
//收到服务器消息，使用evt.data提取
        console.log("onmessage");
        console.dir(new Float64Array( evt.data ));
    };
    websocket.onerror = function (evt) {
//产生异常
        console.log("onerror");
    };
    function start() {
        websocket.send(JSON.stringify({"foot":"123"}));//向服务器发送消息
    }

</script>
<div onclick="start()">sssss</div>
</body>
</html>